<!-- Overlay De Carregamento -->
<app-loading-overlay
  *ngIf="isLoading">
</app-loading-overlay>
<!-- Pagina Principal -->
<app-page-default
    pageTitle="RegiÃµes"
    pageSubtitle="Selecionando Uma linha, voce se posiciona no registro!"
    [breadcrumbItems]="breadcrumbItems">
    <!-- Tabela com os itens -->
    <p-iconField
        class="w-full"
        iconPosition="left">
        <p-inputIcon
            styleClass="pi pi-search" />
        <input
            class="w-full mb-3"
            type="text"
            pInputText
            placeholder="Buscar"
            [(ngModel)]="searchFilter"
            (input)="filterItems()" />
    </p-iconField>
    <p-table
        [value]="filteredRegions"
        [columns]="regionsColumns"
        styleClass="p-datatable-xl p-datatable-striped">
        <ng-template 
            pTemplate="header" 
            let-columns>
            <tr>
                <th 
                    *ngFor="let col of columns">
                    {{ col.label }}
                </th>
            </tr>
        </ng-template>
        <ng-template 
            pTemplate="body" 
            let-region>
            <tr 
                (click)="openRegion(region)">
                <td>
                    {{ region.regiao }}
                </td>
                <td>
                    {{ region.leituras_ok }} / {{ region.leituras_totais }}
                </td>
            </tr>
        </ng-template>
    </p-table>
</app-page-default>